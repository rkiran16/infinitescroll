(this.webpackJsonpinfinitescroll=this.webpackJsonpinfinitescroll||[]).push([[0],{60:function(e,t,c){"use strict";c.r(t);var n=c(4),a=c(0),r=c.n(a),s=c(28),i=c.n(s),o=c(8),j=c(13),l=c(11),b=c.n(l);var d=c(16),h=c.n(d),O=c(62),u=c(64),x=c(63),m=c(29),g=c(65);function f(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],d=i[1],f=function(e,t){var c,n=Object(a.useState)([]),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(a.useState)(!1),d=Object(o.a)(l,2),h=d[0],O=d[1],u=Object(a.useState)(!1),x=Object(o.a)(u,2),m=x[0],g=x[1],f=Object(a.useState)(!0),p=Object(o.a)(f,2),y=p[0],k=p[1];return Object(a.useEffect)((function(){i([])}),[e]),Object(a.useEffect)((function(){return O(!0),g(!1),b()({method:"GET",url:"https://openlibrary.org/search.json",params:{q:e,page:t},cancelToken:new b.a.CancelToken((function(e){return c=e}))}).then((function(e){console.log(e.data.docs),O(!1),i((function(t){return Object(j.a)(new Set([].concat(Object(j.a)(t),Object(j.a)(e.data.docs))))})),k(e.data.docs.length>0)})).catch((function(e){b.a.isCancel(e)||(g(!0),O(!1))})),function(){return c()}}),[e,t]),{books:s,loading:h,error:m,hasMore:y}}(c,l),p=f.books,y=f.loading,k=f.error,v=f.hasMore,N=Object(a.useRef)(),S=Object(a.useCallback)((function(e){y||(N.current&&N.current.disconnect(),N.current=new IntersectionObserver((function(e){e[0].isIntersecting&&v&&d((function(e){return e+1}))})),e&&N.current.observe(e))}),[y,v]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O.a,{fluid:!0,className:"bg-warning",children:Object(n.jsx)(O.a,{className:"p-5",children:Object(n.jsx)(u.a,{children:Object(n.jsx)(u.a.Group,{children:Object(n.jsx)(u.a.Control,{className:"rounded",size:"lg",type:"text",placeholder:"Search Books",value:c,onChange:function(e){r(e.target.value),d(1)}})})})})}),Object(n.jsx)(O.a,{fluid:!0,className:"bg-info",style:{height:"100vh"},children:Object(n.jsxs)(O.a,{className:"p-5",children:[Object(n.jsx)(x.a,{children:p&&p.map((function(e,t){return t===p.length-1?Object(n.jsx)(m.a,{className:"p-2",sm:12,md:4,ref:S,children:Object(n.jsxs)(g.a,{style:{height:"100%"},children:[Object(n.jsx)(g.a.Img,{style:{maxHeight:"325px"},className:"img-fluid",variant:"top",src:"http://covers.openlibrary.org/b/olid/".concat(e.edition_key&&e.edition_key[0],"-L.jpg")}),Object(n.jsx)(g.a.ImgOverlay,{children:Object(n.jsx)(g.a.Body,{children:Object(n.jsx)(g.a.Title,{children:e.title})})})]})},"book-".concat(Math.random())):Object(n.jsx)(m.a,{className:"p-2",sm:12,md:4,children:Object(n.jsxs)(g.a,{style:{height:"100%"},children:[Object(n.jsx)(g.a.Img,{style:{maxHeight:"325px"},className:"img-fluid",variant:"top",src:"http://covers.openlibrary.org/b/olid/".concat(e.edition_key&&e.edition_key[0],"-L.jpg")}),Object(n.jsx)(g.a.ImgOverlay,{children:Object(n.jsx)(g.a.Body,{children:Object(n.jsx)(g.a.Title,{children:e.title})})})]})},"book-".concat(Math.random()))}))}),y&&Object(n.jsx)(x.a,{children:Array(3).fill("").map((function(e){return Object(n.jsx)(m.a,{className:"p-2",sm:12,md:4,ref:S,children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)(h.a,{height:150}),Object(n.jsx)(g.a.Body,{children:Object(n.jsx)(h.a,{})})]})},"skeleton-".concat(Math.random()))}))}),k&&Object(n.jsx)("p",{children:"Error"})]})})]})}c(59);i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.38c6dcc1.chunk.js.map