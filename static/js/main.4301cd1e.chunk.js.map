{"version":3,"sources":["pages/LandingPage/index.js","pages/Search/index.js","BookTile/index.js","pages/SearchResultsPage/index.js","App.js","useBooksSearch.js","index.js"],"names":["LandingPage","className","Container","to","xmlns","viewBox","d","SearchPage","query","inputChange","fluid","Form","InputGroup","size","Control","type","placeholder","value","onChange","e","Append","BookTile","volumeInfo","title","imageLinks","publishedDate","ratingsCount","averageRating","Card","Img","variant","src","thumbnail","Body","count","parseInt","activeColor","SearchResultsPage","id","books","loading","lastElementRef","error","Row","map","book","index","length","ref","Math","random","Array","fill","Col","sm","md","height","App","useState","setQuery","pageNumber","setPageNumber","cancel","setBooks","setLoading","setError","hasMore","setHasMore","useEffect","axios","method","url","params","q","startIndex","cancelToken","CancelToken","c","then","response","prevBooks","Set","data","items","catch","err","isCancel","useBooksSearch","observer","useRef","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prevPageNumber","observe","Home","Search","target","onTextInputChange","Results","render","location","preset","transitionKey","pathname","exact","path","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.4301cd1e.chunk.js","sourcesContent":["import React from 'react';\nimport './landingPage.scss';\nimport {Container } from 'react-bootstrap';\nimport {Link} from \"react-router-dom\";\n\nconst LandingPage = () => {\n\treturn (\n\t\t<div className=\"landingContainer bg-gradient pg\">\n\t\t\t<Container className=\"d-flex flex-column-reverse flex-md-row justify-content-center justify-content-lg-around\">\n\t\t\t\t<div>\n\t\t\t\t\t<h1 className=\"h2 font-weight-normal text-white mb-3\">Welcome to Book Finder</h1>\n\t\t\t\t\t<h3 className=\"h1 font-weight-light text-white\">\n\t\t\t\t\t\tNew Way To Explore Books\n\t\t\t\t\t</h3>\n\t\t\t\t\t<h3 className=\"h1 font-weight-light text-white mb-3\">\n\t\t\t\t\t\tRead Reviews, Find New Books, Collect Quotes\n\t\t\t\t\t</h3>\n\t\t\t\t\t<hr className=\"w-25 ml-0 border-warning mb-5\"/>\n\t\t\t\t\t<div className=\"w-75\">\n\t\t\t\t\t\t<Link className=\"btn btn-grad btn-lg btn-block\" to=\"/search\">Find Your Book</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"book-icon\">\n\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 75.433 125\">\n\t\t\t\t\t\t<path d=\"M71.862 0H9.725C7.761 0 4.947 1.064 3.473 2.362l-.792.698C1.206 4.36 0 7.031 0 8.995V96.428A3.583 3.583 0 003.572 100h62.132a3.581 3.581 0 003.572-3.572V11.722a3.58 3.58 0 00-3.572-3.572H24.172a2.352 2.352 0 10-4.703 0V32.667l-5.917-5.777-5.12 5.777V8.148h-4.86c-.026 0-.049.006-.075.008L7.34 3.755h64.463V93.04h.057a3.585 3.585 0 003.573-3.572V3.573A3.581 3.581 0 0071.862 0z\"/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</Container>\n\t\t</div>\n\t)\n}\n\nexport default LandingPage;","import React from 'react';\nimport {Container, Form, InputGroup} from \"react-bootstrap\";\nimport {Link} from \"react-router-dom\";\n\nconst SearchPage = ({query, inputChange}) => {\n\n\tfunction onTextInputChange(e) {\n\t\tinputChange(e)\n\t}\n\n\treturn (\n\t\t<div className=\"d-flex justify-content-center align-items-center pg bg-gradient\">\n\t\t\t<Container fluid>\n\t\t\t\t<Container className=\"p-5\">\n\t\t\t\t\t<Form>\n\t\t\t\t\t\t<InputGroup size=\"lg\">\n\t\t\t\t\t\t\t<Form.Control className=\"rounded\" type=\"text\" placeholder=\"Search Book / Author /ISBN\"\n\t\t\t\t\t\t\t              value={query} onChange={onTextInputChange}/>\n\t\t\t\t\t\t\t<InputGroup.Append>\n\t\t\t\t\t\t\t\t<Link className=\"btn btn-grad\" to=\"/results\">Search</Link>\n\t\t\t\t\t\t\t</InputGroup.Append>\n\t\t\t\t\t\t</InputGroup>\n\n\t\t\t\t\t</Form>\n\t\t\t\t</Container>\n\t\t\t</Container>\n\t\t</div>\n\t)\n}\n\nexport default SearchPage;","import React from \"react\";\nimport { Card } from 'react-bootstrap';\nimport ReactStars from \"react-rating-stars-component\";\nimport './style.scss';\n\nexport default function BookTile({volumeInfo: { title, imageLinks, publishedDate, ratingsCount, averageRating }}) {\n\treturn (\n\t\t<Card className=\"bookTile text-white bg-dark\">\n\t\t\t<Card.Img variant=\"top\" src={imageLinks && imageLinks.thumbnail ? imageLinks.thumbnail : 'https://placeimg.com/300/300/book'} />\n\t\t\t<Card.Body>\n\t\t\t\t<h6 className=\"card-title text-truncate\">{title}</h6>\n\t\t\t\t<ReactStars\n\t\t\t\t\tcount={averageRating ? parseInt(averageRating) : 5}\n\t\t\t\t\tvalue={ratingsCount}\n\t\t\t\t\tsize={24}\n\t\t\t\t\tactiveColor=\"#ffd700\"\n\t\t\t\t/>\n\t\t\t</Card.Body>\n\t\t\t<div className=\"card-footer\">\n\t\t\t\t<small className=\"text-muted\">{`Published Date ${publishedDate}`}</small>\n\t\t\t</div>\n\t\t</Card>\n\t)\n}","import React from 'react';\nimport { Row, Col, Card} from \"react-bootstrap\";\nimport BookTile from \"../../BookTile\";\nimport Skeleton from \"react-loading-skeleton\";\nimport './searchResultsPage.scss';\n\nconst SearchResultsPage = ({id, books, loading, lastElementRef, error}) => {\n\treturn (\n\t\t<div id={id} className=\"pg bg-gradient\">\n\t\t\t<Row className=\"searchResultsPage\">\n\t\t\t\t{books && books.map((book, index) => {\n\t\t\t\t\tif (index === books.length - 2) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div ref={lastElementRef} key={`book-${Math.random()}`}>\n\t\t\t\t\t\t\t\t<BookTile volumeInfo={book.volumeInfo}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn <div key={`book-${Math.random()}`}><BookTile volumeInfo={book.volumeInfo}/></div>\n\t\t\t\t\t}\n\t\t\t\t})}\n\t\t\t</Row>\n\t\t\t{loading && <Row>\n\t\t\t\t{Array(3).fill(\"\").map(index => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Col className=\"p-2\" sm={12} md={4} key={`skeleton-${Math.random()}`}>\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<Skeleton height={150}/>\n\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t<Skeleton/>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Row>}\n\t\t\t{error && <p>Error</p>}\n\t\t</div>\n\t)\n}\n\nexport default SearchResultsPage;","import useBooksSearch from './useBooksSearch';\nimport React, {useState, useRef, useCallback} from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport { PageTransition } from '@steveeeie/react-page-transition';\nimport './app.scss';\nimport LandingPage from \"./pages/LandingPage\";\nimport SearchPage from \"./pages/Search\";\nimport SearchResultsPage from \"./pages/SearchResultsPage\";\n\nexport default function App() {\n\tconst [query, setQuery] = useState('');\n\tconst [pageNumber, setPageNumber] = useState(0)\n\tconst {books, loading, error, hasMore} = useBooksSearch(query, pageNumber);\n\tconst observer = useRef();\n\tconst lastElementRef = useCallback(node => {\n\t\tif (loading) return;\n\t\tif (observer.current) observer.current.disconnect();\n\t\tobserver.current = new IntersectionObserver(entries => {\n\t\t\tif (entries[0].isIntersecting && hasMore) {\n\t\t\t\tsetPageNumber(prevPageNumber => prevPageNumber + 40);\n\t\t\t}\n\t\t})\n\t\tif (node) observer.current.observe(node);\n\t}, [loading, hasMore])\n\n\n\tfunction onTextInputChange(e) {\n\t\tsetQuery(e.target.value);\n\t\tsetPageNumber(0)\n\t}\n\n\tconst Home = () => <LandingPage/>;\n\tconst Search = () => <SearchPage query={query} inputChange={(e) => onTextInputChange(e)} />;\n\tconst Results = () => <SearchResultsPage books={books} lastElementRef={lastElementRef} error={error} loading={loading} />;\n\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<Route\n\t\t\t\trender={({ location }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<PageTransition\n\t\t\t\t\t\t\tpreset=\"fadeTopFadeBottom\"\n\t\t\t\t\t\t\ttransitionKey={location.pathname}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Switch location={location}>\n\t\t\t\t\t\t\t\t<Route exact path=\"/infinitescroll\" component={Home} />\n\t\t\t\t\t\t\t\t<Route exact path=\"/search\" component={Search} />\n\t\t\t\t\t\t\t\t<Route exact path=\"/results\" component={Results} />\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t</PageTransition>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</BrowserRouter>\n\t);\n}\n","import { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nconst URL = 'https://www.googleapis.com/books/v1/volumes?maxResults=40&key=AIzaSyDpJWo6qYp0bfGhR-rbKtcbgSoxCUUiKN0';\n\nexport default function useBooksSearch (query,pageNumber) {\n\tconst [books,setBooks] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [error, setError] = useState(false);\n\tconst [hasMore,setHasMore] = useState(true);\n\tlet cancel\n\n\tuseEffect(() => {\n\t\tsetBooks([])\n\t},[query])\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tsetError(false);\n\t\tif(query !== '') {\n\t\t\taxios({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: URL,\n\t\t\t\tparams: {q: query, startIndex: pageNumber},\n\t\t\t\tcancelToken: new axios.CancelToken(c => cancel = c)\n\t\t\t}).then(response => {\n\t\t\t\t//console.log(response.data.docs);\n\t\t\t\tsetLoading(false);\n\t\t\t\tsetBooks((prevBooks) => {\n\t\t\t\t\treturn [...new Set([...prevBooks, ...response.data.items])]\n\t\t\t\t})\n\t\t\t\tsetHasMore(response.data.items.length > 0)\n\t\t\t}).catch(err => {\n\t\t\t\tif(axios.isCancel(err)) return\n\t\t\t\tsetError(true)\n\t\t\t\tsetLoading(false);\n\t\t\t})\n\t\t\treturn () => cancel();\n\t\t} else {\n\t\t\tsetLoading(false);\n\t\t}\n\n\t},[query,pageNumber])\n\n\treturn {\n\t\tbooks,\n\t\tloading,\n\t\terror,\n\t\thasMore\n\t};\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}